<h2 mat-dialog-title>Give Us Your Advice</h2>
<mat-dialog-content>
    <p>We're building this together. Please share your advice to help us make the app better for you.</p>
    <form [formGroup]="feedbackForm">
        <mat-form-field appearance="fill" class="full-width">
            <mat-label>Advice Type</mat-label>
            <mat-select formControlName="type">
                <mat-option value="bug">Bug Report</mat-option>
                <mat-option value="feature">Feature Request</mat-option>
                <mat-option value="improvement">Improvement Suggestion</mat-option>
                <mat-option value="other">Other</mat-option>
            </mat-select>
        </mat-form-field>

        <mat-form-field appearance="fill" class="full-width">
            <mat-label>Title</mat-label>
            <input matInput formControlName="title" placeholder="Brief description">
            @if (feedbackForm.get('title')?.invalid) {
            <mat-error>Title is required</mat-error>
            }
        </mat-form-field>

        <mat-form-field appearance="fill" class="full-width">
            <mat-label>Path</mat-label>
            <input matInput formControlName="path"
                placeholder="Path in the searchbar (e.x. https://memorise.online/home)">
            @if (feedbackForm.get('path')?.invalid) {
            <mat-error>There was some Trouble :(</mat-error>
            }
        </mat-form-field>

        <mat-form-field appearance="fill" class="full-width">
            <mat-label>Description</mat-label>
            <textarea matInput formControlName="description" placeholder="Please provide details..."
                rows="5"></textarea>
            @if (feedbackForm.get('description')?.invalid) {
            <mat-error>Description is required</mat-error>
            }
        </mat-form-field>

        <mat-form-field appearance="fill" class="full-width">
            <mat-label>Email (Optional)</mat-label>
            <input matInput formControlName="email" placeholder="Your email for follow-up">
            @if (feedbackForm.get('email')?.invalid) {
            <mat-error>Please enter a valid email</mat-error>
            }
        </mat-form-field>
    </form>
</mat-dialog-content>
<mat-dialog-actions align="end">
    <button mat-button (click)="onCancel()">Cancel</button>
    <button mat-raised-button color="primary" [disabled]="feedbackForm.invalid" (click)="onSubmit()">Submit
        Feedback</button>
</mat-dialog-actions>